{% extends "admin_app/base.html" %}
{% load static %}

{% block title %}Websites{% endblock %}
{% block navbar_title %}Websites{% endblock %}

{% block content %}
<div class="admin-page-header" style="display: flex; flex-wrap: wrap; align-items: center; justify-content: space-between; gap: 16px; margin-bottom: 28px;">
    <h1 style="font-size: 22px; font-weight: 600; color: var(--admin-text);">Websites</h1>
    <a href="{% url 'admin_website_create' %}" style="
        display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; font-size: 14px; font-weight: 600; font-family: inherit;
        color: #0c1220; background: linear-gradient(135deg, var(--admin-accent), #d97706); border: none; border-radius: 12px; text-decoration: none;
    ">+ Create website</a>
</div>

<div class="website-cards" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
    {% for site in websites %}
    <div style="
        background: var(--admin-surface); border: 1px solid var(--admin-border); border-radius: 16px; overflow: hidden;
        transition: border-color 0.2s, box-shadow 0.2s;
    " class="website-card">
        <div style="padding: 24px;">
            <div style="display: flex; align-items: flex-start; justify-content: space-between; gap: 12px;">
                <div style="min-width: 0;">
                    <h3 style="font-size: 17px; font-weight: 600; color: var(--admin-text); margin-bottom: 4px;">{{ site.name }}</h3>
                    <p style="font-size: 13px; color: var(--admin-text-muted); margin-bottom: 8px;">/{{ site.slug }}</p>
                    {% if site.is_default %}
                    <span style="display: inline-block; padding: 4px 10px; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; background: var(--admin-accent-muted); color: var(--admin-accent); border-radius: 6px;">Default (main site)</span>
                    {% endif %}
                </div>
            </div>
            {% if site.tagline %}
            <p style="font-size: 13px; color: var(--admin-text-secondary); margin-top: 12px; line-height: 1.5;">{{ site.tagline }}</p>
            {% endif %}
            <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                <a href="{% url 'admin_website_detail' site.pk %}" style="padding: 8px 14px; font-size: 13px; font-weight: 500; color: var(--admin-accent); text-decoration: none; border: 1px solid var(--admin-border); border-radius: 8px;">Manage</a>
                {% if site.is_default %}
                <a href="{% url 'home' %}" target="_blank" style="padding: 8px 14px; font-size: 13px; font-weight: 500; color: var(--admin-text-secondary); text-decoration: none; border: 1px solid var(--admin-border); border-radius: 8px;">View site →</a>
                {% else %}
                <a href="{% url 'public_website_by_slug' slug=site.slug %}" target="_blank" style="padding: 8px 14px; font-size: 13px; font-weight: 500; color: var(--admin-text-secondary); text-decoration: none; border: 1px solid var(--admin-border); border-radius: 8px;">View site →</a>
                {% endif %}
            </div>
        </div>
    </div>
    {% empty %}
    <div style="grid-column: 1 / -1; background: var(--admin-surface); border: 1px dashed var(--admin-border); border-radius: 16px; padding: 48px; text-align: center;">
        <p style="font-size: 15px; color: var(--admin-text-muted); margin-bottom: 16px;">No websites yet. Create one to build your SaaS product site.</p>
        <a href="{% url 'admin_website_create' %}" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; font-size: 14px; font-weight: 600; color: #0c1220; background: var(--admin-accent); border-radius: 12px; text-decoration: none;">+ Create website</a>
    </div>
    {% endfor %}
</div>
{% endblock %}
